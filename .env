# --- realm/import ---
AUTH_DEBUG=1
REALM=OSSS
IMPORT_STRATEGY=OVERWRITE_EXISTING
RESET_REALM=0
KC_SKIP_ADMIN_ROLE_CHECK=1

# --- public (safe to expose to browser) ---
NEXT_PUBLIC_KEYCLOAK_BASE=http://localhost:8085
NEXT_PUBLIC_KEYCLOAK_REALM=OSSS
NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=osss-web
NEXT_PUBLIC_PUBLIC_URL=http://localhost:3000
POST_LOGOUT_REDIRECT_URI=http://localhost:3000/

# --- misc ---
REQUESTS_DEBUG=1
CALLBACK_URL=http://localhost:8081/callback

# ================== FASTAPI (server) ==================
# Keep API bound to the confidential 'osss-api' client
KEYCLOAK_SERVER_URL=http://localhost:8085
KEYCLOAK_PUBLIC_URL=http://localhost:8085
KEYCLOAK_BASE_URL=http://localhost:8085
KEYCLOAK_ALLOWED_AUDIENCES=osss-api,osss-web
KEYCLOAK_REALM=OSSS
KEYCLOAK_CLIENT_ID=osss-api
# If your osss-api client is confidential, set secret; otherwise leave empty
KEYCLOAK_CLIENT_SECRET=password
KEYCLOAK_AUDIENCE=osss-api

JWKS_CACHE_SECONDS=600
REQUIRE_AZP_MATCH=false

DATABASE_URL="postgresql+asyncpg://osss:password@localhost:5433/osss"
# POSTGRES_DB=osss
# POSTGRES_USER=osss
# POSTGRES_PASSWORD=password

# OSSS DB
OSSS_DB_URL="postgresql+asyncpg://osss:password@localhost:5433/osss"
OSSS_DB_HOST="127.0.0.1"        # or osss_postgres if your API runs in Docker
OSSS_DB_PORT="5433"
OSSS_DB_NAME="osss"
OSSS_DB_USER="osss"
OSSS_DB_PASSWORD="password"

# Alembic (sync)
ALEMBIC_DATABASE_URL=postgresql+psycopg2://osss:password@localhost:5433/osss


# Keycloak DB (separate creds/port)
KC_DB=postgres
KC_DB_HOST=kc_postgres
KC_DB_PORT=5432
KC_DB_NAME=keycloak
KC_DB_USERNAME=keycloak
KC_DB_PASSWORD=keycloakpass

# --- Keycloak bootstrap admin (for logging into Keycloak) ---
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

SWAGGER_CLIENT_ID="osss-api"
SWAGGER_CLIENT_SECRET="password"


POST_LOGOUT_REDIRECT_URI=http://localhost:3000/

REDIS_URL=redis://localhost:6379
REDIS_VERSION="-7-alpine"

SESSION_SECRET=some-long-random-string
