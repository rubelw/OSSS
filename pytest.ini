# pytest.ini
[pytest]
pythonpath = src
asyncio_mode = auto
testpaths = src/OSSS/tests
addopts =
    --strict-markers
    -ra
    --cov=src/OSSS
    --cov-report=term-missing:skip-covered
    --cov-report=xml
    --no-cov-on-fail
markers =
    integration: tests that hit live services (select with -m integration)
    timeout: per-test timeout (requires pytest-timeout)
    rbac: marks RBAC/authorization tests
log_cli = true
log_cli_level = DEBUG
dotenv_files = .env
anyio_backend = asyncio
filterwarnings =
    ignore:PydanticDeprecatedSince20::pydantic.*


